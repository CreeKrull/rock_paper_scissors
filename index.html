<!DOCTYPE html>
<html lang="en">
</html>

<head>
  <meta charset="utf-8">
  <title>Rock, Paper, Scissors!</title>
</head>

<body>
  <h1>Rock, Paper, Scissors!</h1>
  <script>
    "use strict";
    function playOrNot(choice) {
      if (choice === "Y") {
        return true;
      } else {
        return console.log("Perhaps another time.");
      }
    } 

    let choice = prompt("Would you like to play Rock, Paper, Scissors?\nY/N",); 
    var playerSelection;
    var computerSelection;
    const playOptions = [ "rock", "paper", "scissors" ]; // Define array that can be compared against.

    if ( playOrNot(choice) ) {
      console.log("Let's go.");
      playRound(playerSelection, computerSelection);
    } else {
      console.log("Goodbye.");
    } 

    function getComputerSelection(computerSelection) {
      console.log("Psst! I'm making my choice randomly right now.");

      computerSelection = (playOptions[ Math.floor(Math.random() * 3)]);

      console.log(`Tell no one! I chose ${computerSelection}.`);
      
      return String(computerSelection);
    } 
    
    function playRound(playerSelection, computerSelection) {
      // getComputerSelection(computerSelection);
      
      playerSelection = (prompt("Enter 'rock,' 'paper' or 'scissors'")); 

      playerSelection = playerSelection.toLowerCase();
      computerSelection = getComputerSelection() // String((playOptions[ Math.floor(Math.random() * 3)]));
      
      switch (playerSelection) {
        case (playOptions[0]):
          console.log("rock is a valid option.");
          break;
        case (playOptions[1]):
          console.log("paper is a valid option.");
          break;
        case (playOptions[2]):
          console.log("scissors is a valid option.");
          break;
        default:  
          console.log("Not a valid option. Try again");
          playRound();  
      }

      console.log(`playerSelection ` + typeof(playerSelection) + ` ${playerSelection}`);
      console.log(`computerSelection ` + typeof(computerSelection) + ` ${computerSelection}`);

      function printPlayerWinMessage(playerSelection, computerSelection) {
        console.log(`You win! ${playerSelection} beats ${computerSelection}`);
      }

      function printPlayerLoseMessage(playerSelection, computerSelection) {
        console.log(`You lose! ${computerSelection} beats ${playerSelection}`); 
      }
          
      if (playerSelection === "paper") {
        if (computerSelection === "rock") {
          printPlayerWinMessage(playerSelection, computerSelection); }
      } 

      if (playerSelection === "paper") {
        if (computerSelection === "scissors") {
          printPlayerLoseMessage(playerSelection, computerSelection); }
      }

      if (playerSelection === "paper") {
        if (computerSelection === "paper") {
          console.log("Oof, a tie. Let's try again");
          playRound(playerSelection, computerSelection); }
      }

      if (playerSelection === "rock") {
        if (computerSelection === "scissors") {
          printPlayerWinMessage(playerSelection, computerSelection); }
      } 

      if (playerSelection === "rock") {
        if (computerSelection === "paper") {
          printPlayerLoseMessage(playerSelection, computerSelection); }
      }

      if (playerSelection === "rock") {
        if (computerSelection === "rock") {
          console.log("Oof, a tie. Let's try again");
          playRound(playerSelection, computerSelection); }
      }

      if (playerSelection === "scissors") {
        if (computerSelection === "paper") {
          printPlayerWinMessage(playerSelection, computerSelection); }
      } 

      if (playerSelection === "scissors") {
        if (computerSelection === "rock") {
          printPlayerLoseMessage(playerSelection, computerSelection); }
      }

      if (playerSelection === "scissors") {
        if (computerSelection === "scissors") {
          console.log("Oof, a tie. Let's try again");
          playRound(playerSelection, computerSelection); }
      }
    }  
  
    // Increment a counter variable, rounds, for the number of rounds played by 1.
    // Increment another counter variable, playerWins, by 1 if the player has won the round.
      // Otherwise, increment a counter variable called computerWins by 1.

    // When rounds = 5, compare playerWins against computerWins.
    // Tell the player who has won the game.

  </script>
</body>