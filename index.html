<!DOCTYPE html>
<html lang="en">
</html>

<head>
  <meta charset="utf-8">
  <title>Rock, Paper, Scissors!</title>
</head>

<body>
  <h1>Rock, Paper, Scissors!</h1>
  <script>
    "use strict";
    function playOrNot(choice) {
      if (choice === "Y") {
        return true;
      } else {
        return console.log("Perhaps another time.");
      }
    } 

    let choice = prompt("Would you like to play Rock, Paper, Scissors?\nY/N",); 
    var playerSelection;
    var computerSelection;
    const playOptions = [ "rock", "paper", "scissors" ]; // Define array that can be compared against.

    if ( playOrNot(choice) ) {
      console.log("Let's go.");
      getComputerSelection(computerSelection);
      playRound(playerSelection, computerSelection);
    } else {
      console.log("Goodbye.");
    } 

    function getComputerSelection(computerSelection) {
      console.log("Psst! I'm making my choice randomly right now.");

      computerSelection = playOptions[ Math.floor(Math.random() * 2)];

      console.log(`Tell no one! I chose ${computerSelection}.`);
      
      return computerSelection;
    }
    
    function playRound(playerSelection, computerSelection) {
      playerSelection = (prompt("Enter 'rock,' 'paper' or 'scissors'")); 

      playerSelection = playerSelection.toLowerCase();
      computerSelection = String(computerSelection);
      
      switch (playerSelection) {
        case (playOptions[0]):
          console.log("rock is a valid option.");
          break;
        case (playOptions[1]):
          console.log("paper is a valid option.");
          break;
        case (playOptions[2]):
          console.log("scissors is a valid option.");
          break;
        default:  
          console.log("Not a valid option. Try again");
          playRound();  
      }

      console.log(typeof(playerSelection));
      console.log(typeof(computerSelection));

      switch (playerSelection) {
        case (playerSelection === "paper" && computerSelection === "rock"):
        case (playerSelection === "rock" && computerSelection === "scissors"):
        case (playerSelection === "scissors" && computerSelection === "paper"):
          console.log(`You win! ${playerSelection} beats ${computerSelection}.`)
          return declareWinner = playerSelection;
          break;
        case (playerSelection === "paper" && computerSelection === "scissors"):
        case (playerSelection === "rock" && computerSelection === "paper"):
        case (playerSelection === "scissors" && computerSelection === "rock"):
          console.log(`You lose! ${computerSelection} beats ${playerSelection}.`)
          return declareWinner = computerSelection;
          break;
        default:
          console.log("Oof, a tie. Let's try again");
          getComputerSelection();
          playRound();
      }
    }

    
    // Evaluate the valid player choice against the computer's choice.
      // If both the player and the computer make the same choice, return this message: "Darn! A tie! Let's try again - enter your choice." Run the evaluation again.
      // If the player's choice beats the computer's choice, return this message: `You win! ${playerSelection} beats ${computerSelection}!`.
      // Otherwise, return this message: `Oooh, that smarts! ${computerSelection} always beats ${playerSelection}.`.

    // Increment a counter variable, rounds, for the number of rounds played by 1.
    // Increment another counter variable, playerWins, by 1 if the player has won the round.
      // Otherwise, increment a counter variable called computerWins by 1.

    // When rounds = 5, compare playerWins against computerWins.
    // Tell the player who has won the game.

  </script>
</body>